# 产品需求文档 PRD-V1.0 - MVP核心功能

## 📋 版本信息
- **版本**: V1.0
- **发布时间**: 2025年11月（3周Sprint）
- **目标**: 完成"入库→出库→报表"闭环，解决核心痛点
- **用户群体**: 小团体多用户场景

## 🎯 产品目标

### 核心价值主张
- **主要痛点**: 物品遗忘、重复购买、资产不透明
- **解决方案**: 完整的物品生命周期管理
- **成功指标**: 
  - 物品查找效率提升≥50%
  - 重复购买率降低≥30%
  - 用户30天留存率≥25%

### 目标用户画像
- **主要用户**: 小团体成员（3-10人）
- **使用场景**: 共享物品管理、个人物品记录
- **核心需求**: 快速录入、便捷查找、状态跟踪

## 🚀 功能范围

### 1. 多用户认证系统
**用户故事**: 作为小团体成员，我希望能够安全登录并管理我的物品数据。

**功能需求**:
- 用户注册/登录（邮箱+密码）
- JWT Token认证
- 用户权限隔离
- 基础用户信息管理

**验收标准**:
- 支持多用户同时登录
- 用户数据完全隔离
- 登录状态保持7天
- 密码强度验证

**技术难点**: 多租户数据隔离架构设计

### 2. 物品管理核心功能
**用户故事**: 作为用户，我希望能够快速录入和管理我的物品信息。

**功能需求**:
- 物品CRUD操作
- 基础属性：名称、品牌、价格、购买日期、状态
- 图片上传（最多3张，单张≤2MB）
- 物品状态：ACTIVE、REMOVED
- 软删除机制

**验收标准**:
- 物品创建响应时间<2秒
- 图片上传成功率>95%
- 支持批量操作
- 数据完整性校验

**技术难点**: 图片存储和CDN集成

### 3. 库存交易基础功能
**用户故事**: 作为用户，我希望能够记录物品的入库和出库操作。

**功能需求**:
- 入库操作：记录购买信息
- 出库操作：转售、丢弃、赠与
- 交易记录查询
- 物品状态自动更新

**验收标准**:
- 交易记录准确无误
- 状态更新实时生效
- 支持交易历史查询
- 操作日志记录

**技术难点**: 事务一致性保证

### 4. 基础搜索与筛选
**用户故事**: 作为用户，我希望能够快速找到我需要的物品。

**功能需求**:
- 关键字搜索（名称、品牌）
- 状态筛选（ACTIVE/REMOVED）
- 时间范围筛选
- 基础排序功能

**验收标准**:
- 搜索响应时间<300ms
- 搜索结果准确率>95%
- 支持模糊匹配
- 搜索历史记录

**技术难点**: 全文搜索索引优化

### 5. 基础报表功能
**用户故事**: 作为用户，我希望了解我的物品资产概况。

**功能需求**:
- 库存总价值统计
- 物品数量统计
- 最近交易记录
- 基础图表展示

**验收标准**:
- 数据计算准确
- 报表加载时间<3秒
- 支持时间范围选择
- 数据实时更新

**技术难点**: 数据聚合查询优化

## 🎨 用户体验设计

### 界面设计原则
- **简洁优先**: 减少认知负担，突出核心功能
- **移动友好**: 响应式设计，支持手机访问
- **一致性**: 统一的视觉语言和交互模式
- **可访问性**: 支持键盘导航和屏幕阅读器

### 核心页面结构
1. **登录页面**: 简洁的登录表单
2. **仪表板**: 关键数据概览
3. **物品列表**: 卡片式布局，支持快速操作
4. **物品详情**: 完整信息展示和编辑
5. **交易记录**: 时间线式展示

## 🔧 技术架构

### 前端技术栈
- **框架**: Vue 3 + TypeScript
- **状态管理**: Pinia
- **UI组件**: 自定义组件库
- **构建工具**: Vite
- **测试**: Vitest + Playwright

### 后端技术栈
- **框架**: Spring Boot 3.3.4
- **数据库**: PostgreSQL 14
- **认证**: JWT + Spring Security
- **文件存储**: 本地文件系统（可扩展云存储）
- **测试**: JUnit 5 + TestContainers

### 部署架构
- **容器化**: Docker
- **反向代理**: Nginx
- **数据库**: PostgreSQL
- **文件存储**: 本地存储（预留云存储接口）

## 📊 性能指标

### 响应时间要求
- 页面首屏加载: ≤2秒
- API响应时间: ≤300ms (P95)
- 图片上传: ≤5秒
- 搜索响应: ≤300ms

### 并发性能
- 支持50个并发用户
- 数据库连接池: 20个连接
- 文件上传并发: 10个

### 可用性要求
- 系统可用性: ≥99%
- 数据备份: 每日自动备份
- 错误恢复: 自动重试机制

## 🧪 测试策略

### 单元测试
- 代码覆盖率: ≥80%
- 核心业务逻辑: 100%覆盖
- 工具类方法: 100%覆盖

### 集成测试
- API接口测试: 100%覆盖
- 数据库操作测试
- 文件上传测试
- 认证流程测试

### 端到端测试
- 用户注册登录流程
- 物品管理完整流程
- 交易操作流程
- 搜索筛选功能

## 🚦 发布计划

### Sprint 1 (第1周)
- 多用户认证系统
- 基础物品管理
- 数据库设计和API开发

### Sprint 2 (第2周)
- 库存交易功能
- 图片上传功能
- 前端页面开发

### Sprint 3 (第3周)
- 搜索筛选功能
- 基础报表功能
- 测试和优化

## 📝 验收标准

### 功能验收
- [ ] 用户可以注册和登录
- [ ] 用户可以创建、编辑、删除物品
- [ ] 用户可以上传物品图片
- [ ] 用户可以记录入库和出库操作
- [ ] 用户可以搜索和筛选物品
- [ ] 用户可以查看基础报表

### 性能验收
- [ ] 页面加载时间符合要求
- [ ] API响应时间符合要求
- [ ] 并发用户数达到目标
- [ ] 系统稳定性测试通过

### 安全验收
- [ ] 用户数据隔离正确
- [ ] 认证机制安全可靠
- [ ] 文件上传安全验证
- [ ] 敏感信息加密存储

## 🔮 扩展预留

### 技术扩展点
- **云存储集成**: 预留AWS S3/阿里云OSS接口
- **缓存系统**: 预留Redis集成接口
- **消息队列**: 预留异步处理接口
- **监控系统**: 预留Prometheus集成

### 功能扩展点
- **移动端应用**: 预留React Native/Flutter接口
- **第三方集成**: 预留API开放接口
- **高级搜索**: 预留Elasticsearch集成
- **实时通知**: 预留WebSocket接口

## 📚 相关文档

- [技术架构文档](../technical/ARCHITECTURE.md)
- [API设计文档](../technical/API_DESIGN.md)
- [用户故事文档](USER_STORIES.md)
- [测试策略文档](../technical/TESTING.md)

---

**文档版本**: V1.0  
**最后更新**: 2025-10-21  
**负责人**: 产品经理  
**审核人**: 技术负责人
